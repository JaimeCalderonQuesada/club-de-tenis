<ng-template [ngIf]="!mostrar">
<div class="container-fluid d-flex align-items-center justify-content-center">
    <div>
        <h1>FORMULARIO DE CONTACTO</h1>
        <div class="d-flex justify-content-center">
        <form novalidate [formGroup]="options" (ngSubmit)="onSubmit()" class="row m-0 p-0">
            <div class="col-12 mb-2 mb-md-0">
              <div id="nombre" class="row m-0 p-0 mb-2">
                <input  type="text" name="name" placeholder="Nombre y Apellidos" class="form-control col-12" #name formControlName="name" required [ngClass]="{'is-valid': !options.get('name')?.invalid, 'is-invalid': options.get('name')?.dirty && options.get('name')?.invalid}">
                <div class="col-12 errores" *ngIf="options.get('name')?.dirty && options.get('name')?.errors">
                    {{utils.errores(options)}}
                </div>
              </div>
            </div>

            <div class="col-12 position-relative">
              <div id="email" class="row m-0 p-0 mb-2">
              <input type="email" class="form-control col-12" name="Email" placeholder="Email" #email formControlName="email" required [ngClass]="{'is-valid': !options.get('email')?.invalid, 'is-invalid': options.get('email')?.dirty && options.get('email')?.invalid}">
              <div class="col-12 errores" *ngIf="options.get('email')?.dirty && options.get('email')?.errors">
                {{utils.erroresEmail(options)}}
              </div>
              </div>
            </div>

            <div class="col-12 position-relative">
              <div id="area" class="row m-0 p-0">
              <textarea  name="mensaje" placeholder="Mensaje" rows="5" class="form-control col-12" #mensaje required formControlName="mensaje" [ngClass]="{'is-valid': !options.get('mensaje')?.invalid, 'is-invalid': options.get('mensaje')?.dirty && options.get('mensaje')?.invalid}"></textarea>
              <div class="col-12 errores" *ngIf="options.get('mensaje')?.dirty && options.get('mensaje')?.errors">
                {{utils.erroresMensaje(options)}}
              </div>
              </div>
            </div>

            <div id="divBoton" class="col-12 d-flex justify-content-center pt-2 pb-2">
              <input id="boton" type="submit" value="Enviar Mensaje" [disabled]="options.invalid" class="btn">
            </div>
        </form>
        </div>
    </div>
</div>
</ng-template>

<ng-template [ngIf]="mostrar">
<div class="container-fluid">

  <div *ngIf="verContactos" class="pb-2 pt-2">
    <h1>CONTACTOS</h1>

    <div class="reservas text-center">
      <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Email</th>
          <th>Mensaje</th>
          <th>Borrar</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let contacto of contactos | paginate: {id:'c',itemsPerPage:5,currentPage:page}; let i = index">
          <td class="mensaje"  matTooltip="{{contacto.name}}"
          matTooltipClass="tooltip"><span>{{contacto.name}}</span></td>
          <td class="mensaje"  matTooltip="{{contacto.email}}"
          matTooltipClass="tooltip"><span >{{contacto.email}}</span></td>
          <td class="mensaje" matTooltip="{{contacto.mensaje}}"
          matTooltipClass="tooltip"><span >{{contacto.mensaje}}</span></td>
          <td><a type="button" (click)="borrarContacto(contacto.id,i)"><i class="bi bi-trash3 d-inline me-1"></i></a></td>
        </tr>
      </tbody>
      </table>
      <pagination-controls id="c" *ngIf="contactos.length > 5"
        (pageChange)="pageChanged($event)"
        ></pagination-controls>
    </div>
  </div>

  <div *ngIf="!verContactos" class="pb-2 pt-2">
    <h1>NO HAY CONTACTOS</h1>
  </div>
</div>
</ng-template>